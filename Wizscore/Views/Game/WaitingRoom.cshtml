@model Wizscore.ViewModels.WaitingRoomViewModel
<div class="row">
    <div class="sm-col-12">
        <h1>Waiting for player to join.</h1>
    </div>
</div>
<div class="row">
    <div class="col-sm-6">
        Game Key: @Model.GameKey
    </div>
     <div class="col-sm-6">
        <span class="m2-2 btn btn-info" id="copyGameKeyToKeyboard" data-game-key="@Model.GameKey">Copy to keyboard</span>
    </div>
    <div class="sm-col-12 mt-3">
        <table class="table" id="waitingRoomList">
            <thead>
                <th scope="col">
                    #
                </th>
                <th scope="col">
                    Player
                </th>
            </thead>
            <tbody>
                @for (int i = 0; i < Model.NumberOfPlayer; i++)
                {
                    var isPlayerRow = i < Model.Players.Count;
                    var value = isPlayerRow ? Model.Players[i].Username : $"Waiting for player {i + 1} to join...";
                    <tr data-is-player-row="@(isPlayerRow ? Boolean.TrueString.ToLower() : Boolean.FalseString.ToLower())">
                        <td>@(i + 1)</td>
                        <td>@value</td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
    @if(Model.IsGameCreator)
    {
        <a asp-controller="Game" asp-action="Start" asp-route-gamekey="@Model.GameKey">Start Game</a>
    }
</div>

@section Scripts
{
    <script src="~/js/WaitingRoomHub.js" type="text/javascript"></script>
    <script src="~/js/WaitingRoom.js" type="text/javascript"></script>
}
